knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
amniota <- read_csv("data/amniota.csv")
View(amniota)
amphibio <- read_csv("data/amphibio.csv")
glimpse(amniota)
naniar::miss_var_summary(amniota)
glimpse(amphibio)
naniar::miss_var_summary(amphibio)
amniota %>%
map_df(~ sum(is.na(.)))%>%
clean_names()
amphibio %>%
map_df(~ sum(is.na(.))) %>%
clean_names()
amphibio <- amphibio %>%
replace_with_na_all(condition = ~.x == -999)%>%
clean_names()
View(amniota)
amniota <- amniota %>%
replace_with_na_all(condition = ~.x == -999) %>%
clean_names()
View(amniota)
heartrate <- read_csv("data/heartrate.csv")
heartrate
heartrate <- read_csv("data/heartrate.csv")
heartrate
View(heartrate)
heartrate %>%
pivot_longer(-patient, #patient will not move
names_to = "drug", #make a new column called "drug"
values_to="heartrate" #values moved to a new column called "heartrate"
)
relig_income <- read_csv("data/relig_income.csv")
View(relig_income)
relig_income %>%
pivot_longer(-religion, #religion will not move, keep them where they are
names_to = "income", #make a new column called "income", moving all current columns into new column
values_to="n_observations" #values moved to a new column called "n_observations"
)
billboard <- read_csv("data/billboard.csv")
billboard
View(billboard)
billboard2 <-
billboard %>%
pivot_longer(wk1:wk76, # a range of columns
names_to = "week",
values_to = "rank",
values_drop_na = TRUE #this will drop the NA's
)
billboard2
billboard3 <-
billboard %>%
pivot_longer(-c(artist, track, date.entered), #specific columns to stay fixed
names_to = "week",
values_to = "rank",
values_drop_na = TRUE
)
billboard3
billboard %>%
pivot_longer(
cols = starts_with("wk"), #columns that start with "wk"
names_to = "week",
names_prefix = "wk",
values_to = "rank",
values_drop_na = TRUE)
plant_data <- read_csv("data/plant_data.csv")
View(plant_data)
plant_data %>%
pivot_longer(day1:day30, #move columns day1 through day30
names_to = "day", #make a new column called "day", moving all current columns into new column
values_to = "total" #values moved to a new column called "total"
)
plant_data %>%
pivot_longer(-c(genotype, water_sched_prog, greenhouse), #move columns day1 through day30
names_to = "day", #make a new column called "day", moving all current columns into new column
values_to = "total" #values moved to a new column called "total"
)
qpcr_untidy <- read_csv("data/qpcr_untidy.csv")
qpcr_untidy
View(qpcr_untidy)
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3, # specifying the columns we want to move
names_to= c("experiment", "replicate"), # moves first part of data to 'experiment' and the second part to 'replicate'
names_sep="_", # says to separate the names at the '-'
values_to="mRNA_expression" # moving values to column name 'mRNA_expression'
)
library("tidyverse")
datasets::USPersonalExpenditure
?USPersonalExpenditure
expenditures <- USPersonalExpenditure %>%
as_tibble() %>% #this transforms the matrix into a data frame
mutate(expenditure = rownames(USPersonalExpenditure))
expenditures
View(expenditures)
expenditures %>%
pivot_longer(-expenditure,
names_to = "year",
values_to = "bn_dollars")
expenditures %>%
pivot_longer(-expenditure,
names_to = "year",
values_to = "bn_dollars") %>%
filter(expenditure=="Medical and Health") %>%
arrange(-bn_dollars)
expenditures %>%
pivot_longer(-expenditure,
names_to = "year",
values_to = "bn_dollars") %>%
filter(expenditure=="Private Education") %>%
arrange(-bn_dollars)
```{r}
## `separate()`
In this new heart rate example, we have the sex of each patient included with their name. Are these data tidy? No, there is more than one value per cell in the patient column and the columns a, b, c, d once again represent values.
heartrate2 <- read_csv("data/heartrate2.csv")
library("tidyverse")
datasets::USPersonalExpenditure
?USPersonalExpenditure
expenditures <- USPersonalExpenditure %>%
as_tibble() %>% #this transforms the matrix into a data frame
mutate(expenditure = rownames(USPersonalExpenditure))
expenditures
expenditures %>%
pivot_longer(-expenditure,
names_to = "year",
values_to = "bn_dollars")
expenditures %>%
pivot_longer(-expenditure,
names_to = "year",
values_to = "bn_dollars") %>%
filter(expenditure=="Medical and Health") %>%
arrange(-bn_dollars)
expenditures %>%
pivot_longer(-expenditure,
names_to = "year",
values_to = "bn_dollars") %>%
filter(expenditure=="Private Education") %>%
arrange(-bn_dollars)
library("tidyverse")
library("tidyverse")
datasets::USPersonalExpenditure
?USPersonalExpenditure
expenditures <- USPersonalExpenditure %>%
as_tibble() %>% #this transforms the matrix into a data frame
mutate(expenditure = rownames(USPersonalExpenditure))
expenditures
expenditures %>%
pivot_longer(-expenditure,
names_to = "year",
values_to = "bn_dollars")
expenditures %>%
pivot_longer(-expenditure,
names_to = "year",
values_to = "bn_dollars") %>%
filter(expenditure=="Medical and Health") %>%
arrange(-bn_dollars)
expenditures %>%
pivot_longer(-expenditure,
names_to = "year",
values_to = "bn_dollars") %>%
filter(expenditure=="Private Education") %>%
arrange(-bn_dollars)
heartrate2 <- read_csv("data/heartrate2.csv")
heartrate2
heartrate2 %>%
separate(patient, into= c("patient", "sex"), sep = "_")
heartrate3 <- heartrate2 %>%
separate(patient, into=c("patient", "sex"), sep="_") %>%
pivot_longer(-c(patient, sex),
names_to = "drug",
values_to = "heartrate")
heartrate3
heartrate3 %>%
unite(patient_sex, "patient", "sex", sep=" ")
tb_data <- read_csv("data/tb_data.csv")
tb_data
tb_data %>%
pivot_wider(names_from = "key", #the observations under key will become new columns
values_from = "value") #the values under value will be moved to the new columns
gene_exp <- read_csv("data/gene_exp.csv")
gene_exp
gene_exp %>%
pivot_wider(names_from = "type",
values_from = "L4_values")
beachbugs <- read_csv("data/beachbugs_long.csv")
beachbugs
beachbugs_wide <- beachbugs %>%
pivot_wider(names_from = site,
values_from = buglevels)
beachbugs_wide
beachbugs_wide %>%
pivot_longer(-year,
names_to = "site",
values_to = "buglevels")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
install.packages("here")
sydneybeaches <- read_csv("data/sydneybeaches.csv")
View(sydneybeaches)
library(here)
sydneybeaches <-read_csv(here("homework", "data", "sydneybeaches.csv")) %>% clean_names()
sydneybeaches <-read_csv(here("lab9", "data", "sydneybeaches.csv")) %>% clean_names()
View(sydneybeaches)
View(sydneybeaches)
sydneybeaches_long <- sydneybeaches %>%
select("site", "date", "enterococci_cfu_100ml")
View(sydneybeaches_long)
sydneybeaches_wide <- sydneybeaches_long %>%
pivot_wider(names_from = "date",
values_from = "enterococci_cfu_100ml")
View(sydneybeaches_wide)
View(sydneybeaches_wide)
sydneybeaches_long2 <- sydneybeaches_wide %>%
pivot_wider(-site,
names_to = "date",
values_to = "enterococci_cfu_100ml")
sydneybeaches_long2 <- sydneybeaches_wide %>%
pivot_longer(-site,
names_to = "date",
values_to = "enterococci_cfu_100ml")
View(sydneybeaches_long2)
View(sydneybeaches_long)
View(sydneybeaches_long)
sydneybeaches_long %>%
separate(date, into=c("day", "month", "year"), sep="/")
View(sydneybeaches_wide)
View(sydneybeaches_long)
View(sydneybeaches_wide)
View(sydneybeaches_long2)
sydneybeaches_long_separated <- sydneybeaches_long %>%
separate(date, into=c("day", "month", "year"), sep="/")
sydneybeaches_long_separated %>%
group_by(year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
sydneybeaches_long_separated %>%
group_by(beach, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
sydneybeaches_long_separated %>%
group_by(beach) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
sydneybeaches_long_separated %>%
group_by(site) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml", na.rm = T))
View(sydneybeaches_long_separated)
sydneybeaches_long_separated %>%
group_by(year, site) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml", na.rm = T))
sydneybeaches_long_separated %>%
group_by(year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml", na.rm = T))
sydneybeaches_long_separated %>%
group_by(year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml")
sydneybeaches_long_separated %>%
group_by(year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
View(sydneybeaches_long_separated)
View(sydneybeaches_long_separated)
sydneybeaches_long_separated <- sydneybeaches_long %>%
separate(date, into=c("day", "month", "year"), sep="/")
sydneybeaches_long_separated %>%
group_by(year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
glimpse(sydneybeaches_long_separated)
sydneybeaches_long_separated %>%
group_by(year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
sydneybeaches_long_separated %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
mean(sydneybeaches_long_separated$enterococci_cfu_100ml)
View(sydneybeaches_long_separated)
mean(sydneybeaches_long$enterococci_cfu_100ml)
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
install.packages("here")
sydneybeaches <- read_csv("data/sydneybeaches.csv")
library(here)
sydneybeaches <-read_csv(here("lab9", "data", "sydneybeaches.csv")) %>% clean_names()
# These data seem to be tidy as every variable has its own column, every row contains values, and every cell contains a value. The data is in long format.
sydneybeaches_long <- sydneybeaches %>%
select("site", "date", "enterococci_cfu_100ml")
sydneybeaches_wide <- sydneybeaches_long %>%
pivot_wider(names_from = "date",
values_from = "enterococci_cfu_100ml")
sydneybeaches_long2 <- sydneybeaches_wide %>%
pivot_longer(-site,
names_to = "date",
values_to = "enterococci_cfu_100ml")
sydneybeaches_long_separated <- sydneybeaches_long %>%
separate(date, into=c("day", "month", "year"), sep="/")
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
install.packages("here")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
install.packages("here")
sydneybeaches <- read_csv("data/sydneybeaches.csv")
library(here)
sydneybeaches <-read_csv(here("lab9", "data", "sydneybeaches.csv")) %>% clean_names()
# These data seem to be tidy as every variable has its own column, every row contains values, and every cell contains a value. The data is in long format.
sydneybeaches_long <- sydneybeaches %>%
select("site", "date", "enterococci_cfu_100ml")
sydneybeaches_wide <- sydneybeaches_long %>%
pivot_wider(names_from = "date",
values_from = "enterococci_cfu_100ml")
sydneybeaches_long2 <- sydneybeaches_wide %>%
pivot_longer(-site,
names_to = "date",
values_to = "enterococci_cfu_100ml")
sydneybeaches_long_separated <- sydneybeaches_long %>%
separate(date, into=c("day", "month", "year"), sep="/")
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"))
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"), .groups = T)
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"), .groups = F)
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"), .groups = T)
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"), .groups)
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"), .groups = ())
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean("enterococci_cfu_100ml"), .groups = NULL)
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean(enterococci_cfu_100ml, na.rm = T), .groups = NULL)
sydneybeaches_mean <- sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean(enterococci_cfu_100ml, na.rm = T), .groups = NULL)
sydneybeaches_mean <- sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean(enterococci_cfu_100ml, na.rm = T), .groups = NULL)
sydneybeaches_mean <- sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean(enterococci_cfu_100ml, na.rm = T))
sydneybeaches_mean <- sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean(enterococci_cfu_100ml, na.rm = T) .groups = T)
sydneybeaches_mean <- sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean(enterococci_cfu_100ml, na.rm = T) .groups = NULL)
sydneybeaches_mean <- sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean(enterococci_cfu_100ml, na.rm = T) .groups = NULL)
sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean(enterococci_cfu_100ml, na.rm = T) .groups = NULL)
sydneybeaches_mean <- sydneybeaches_long_separated %>%
group_by(site, year) %>%
summarise(enterococci_cfu_100ml_mean = mean(enterococci_cfu_100ml, na.rm = T), .groups = NULL)
View(sydneybeaches_mean)
View(sydneybeaches_mean)
sydneybeaches_mean %>%
pivot_wider(names_from = "site",
values_from = "enterococci_cfu_100ml")
sydneybeaches_mean %>%
pivot_wider(names_from = "date",
values_from = "enterococci_cfu_100ml")
sydneybeaches_mean %>%
pivot_wider(names_from = "year",
values_from = "enterococci_cfu_100ml")
sydneybeaches_mean %>%
pivot_wider(names_from = "year",
values_from = "enterococci_cfu_100ml_mean")
