select("order", "vore", "brainwt")
# NA means missing data/value (not applicable). NA's are being included in the summarize function, resulting in an NA mean
msleep %>%
filter(order == "Carnivora") %>%
select("order", "vore", "brainwt")
msleep %>%
summarize(mean_brainwt = mean(brainwt, na.rm=TRUE))
msleep %>%
select("order", "vore", "brainwt") %>%
summarize(mean_brainwt = mean(brainwt, na.rm=TRUE))
msleep %>%
group_by(order) %>%
summarize(mean_brainwt = mean(brainwt, na.rm=TRUE))
msleep %>%
filter(order == "Cetacea") %>%
select("order", "vore", "brainwt")
msleep %>%
group_by(order) %>% #we are grouping by taxanomic order, a categorical variable
summarize(mean_brainwt = mean(brainwt))
msleep %>%
filter(order == "Carnivora") %>%
select("order", "vore", "brainwt")
penguins %>%
group_by(island)
names(penguins)
names(penguins)
penguins %>%
group_by(island)
summarize(mean_bill_length_mm = mean(bill_length_mm),
mean_bill_depth_mm = mean(bill_depth_mm),
mean_flipper_length_mm = mean(flipper_length_mm),
mean_body_mass_g = mean(body_mass_g))
names(penguins)
penguins %>%
group_by(island)
summarize(mean_bill_length_mm = mean(bill_length_mm),
mean_bill_depth_mm = mean(bill_depth_mm),
mean_flipper_length_mm = mean(flipper_length_mm),
mean_body_mass_g = mean(body_mass_g))
penguins
names(penguins)
penguins %>%
group_by(island)
summarize(mean_bill_length_mm = mean(bill_length_mm),
mean_bill_depth_mm = mean(bill_depth_mm),
mean_flipper_length_mm = mean(flipper_length_mm),
mean_body_mass_g = mean(body_mass_g))
penguins %>%
group_by(island)
summarize(mean_bill_length_mm = mean(bill_length_mm),
mean_bill_depth_mm = mean(bill_depth_mm),
mean_flipper_length_mm = mean(flipper_length_mm),
mean_body_mass_g = mean(body_mass_g))
penguins %>%
group_by(island) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm),
mean_bill_depth_mm = mean(bill_depth_mm),
mean_flipper_length_mm = mean(flipper_length_mm),
mean_body_mass_g = mean(body_mass_g))
penguins %>%
group_by(island) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm, na.rm=TRUE),
mean_bill_depth_mm = mean(bill_depth_mm, na.rm=TRUE),
mean_flipper_length_mm = mean(flipper_length_mm, na.rm=TRUE,
mean_body_mass_g = mean(body_mass_g, na.rm=TRUE))
penguins %>%
group_by(island) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm, na.rm=TRUE),
mean_bill_depth_mm = mean(bill_depth_mm, na.rm=TRUE),
mean_flipper_length_mm = mean(flipper_length_mm, na.rm=TRUE),
mean_body_mass_g = mean(body_mass_g, na.rm=TRUE))
names(penguins)
levels(penguins)
penguins %>%
group_by(island) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm, na.rm=TRUE),
mean_bill_depth_mm = mean(bill_depth_mm, na.rm=TRUE),
mean_flipper_length_mm = mean(flipper_length_mm, na.rm=TRUE),
mean_body_mass_g = mean(body_mass_g, na.rm=TRUE))
levels(penguins)
names(penguins)
penhuins %>%
group_by(island) %>%
summarize(number_NAs = sum (is.na(body_mass_g)))
penguins %>%
group_by(island) %>%
summarize(number_NAs = sum (is.na(body_mass_g)))
penguins %>%
filter(!is.na(body_mass_g)) # pull out all of the observations with a number
penguins %>%
group_by(species, island) %>%
summarize(n=n(), .groups= 'keep')#the .groups argument here just prevents a warning message
penguins %>%
count(island, sort = T) #sort=T sorts the column in descending order
penguins %>%
group_by(island) %>%
summarize(n=n())
penguins %>%
count(island, species, sort = T) # sort=T will arrange in descending order
tabyl(penguins$island)
penguins %>%
group_by(species) %>%
summarize(mean_bill_length_mm = meam(bill_length_mm))
penguins %>%
group_by(species) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm))
penguins %>%
group_by(species) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm, rm.na(T)))
penguins %>%
group_by(species) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm, rm.na = T)
penguins %>%
group_by(species) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm, rm.na = (T))
penguins %>%
group_by(species) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm, na.rm=TRUE)
penguins %>%
group_by(species) %>%
summarize(mean_bill_length_mm = mean(bill_length_mm, na.rm=TRUE))
penguins %>%
group_by(island) %>%
summarize(mean_sex = mean(sex))
penguins %>%
summarize(distinct_species = n_distinct(species),
distinct_island = n_distinct(island),
distinct_sex = n_distinct(sex))
penguins %>%
summarize(across(c(species, island, sex), n_distinct))
penguins %>%
summarize(across(contains("mm"), mean, na.rm=T))
penguins %>%
summarize(across(contains("mm"), \(x) mean(x, na.rm = TRUE)))
penguins %>%
group_by(sex) %>%
summarize(across(contains("mm"), mean, na.rm=T))
penguins %>%
summarise_all(mean, na.rm=T)
penguins %>%
summarise(across(!c(species, island, sex, year),
mean, na.rm=T))
penguins %>%
summarise(across(starts_with("bill"), mean, na.rm=T))
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm)),
n = n())
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm, na.rm=T)),
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm)na.rm=T)),
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), na.rm=T)),
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm)),
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), mean),
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), mean,  na.rm=T),
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), mean, sd, na.rm=T),
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), mean, na.rm=T),
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), mean, na.rm=T),
across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), sd, na.rm=T)
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), mean, na.rm=T),
across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), sd, na.rm=T),
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), mean, na.rm=T),
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), mean, na.rm=T),
n = n())
penguins %>%
summarise(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm), sd, na.rm=T),
n = n())
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
glimpse(fisheries)
clean_names(fisheries)
View(fisheries)
fisheries <- clean_names(fisheries)
View(fisheries)
fisheries <- as.factor(fisheries$country)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
fisheries <- clean_names(fisheries)
fisheries$country <- as.factor(fisheries$country)
glimpse(fisheries)
View(fisheries)
fisheries <- clean_names(fisheries)
fisheries$country <- as.factor(fisheries$country)
fisheries$isscaap_group_number <- as.factor(fisheries$isscaap_group_number)
fisheries$asfis_species_number <- as.factor(fisheries$asfis_species_number)
fisheries$fao_major_fishing_area <- as.factor(fisheries$fao_major_fishing_area)
glimpse(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
View(fisheries_tidy)
View(fisheries_tidy)
fisheries_tidy %>%
group_by(country) %>%
summarize(n = n())
fisheries_tidy %>% distinct(country)
unique(fisheries_tidy$country)
fisheries_tidy %>%
group_by(country) %>%
summarize(n = n())
fisheries_tidy_new %>%
select("country", "isscaap_taxonomic_group", "asfis_species_name", "asfis_species_number", "year", "catch")
fisheries_tidy_new <-  fisheries_tidy %>%
select("country", "isscaap_taxonomic_group", "asfis_species_name", "asfis_species_number", "year", "catch")
View(fisheries_tidy_new)
fisheries_tidy_new %>%
n_distinct("asfis_species_number")
fisheries_tidy_new %>%
summarize(max_catch = max("catch"))
fisheries_tidy_new %>%
summarize(max_catch = max(catch))
fisheries_tidy_new %>%
summarize(max_catch = max(catch, na.rm=TRUE))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between, year, 1990,2000) %>%
summarize(max_sardines = max(catch$sardines))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between, year, 1990,2000) %>%
filter(grepl(isscaap_taxonomic_group, "sardines")) %>%
summarize(max_sardines = max())
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 1990, 2000)) %>%
filter(grepl(isscaap_taxonomic_group, "sardines")) %>%
summarize(max_sardines = max())
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 1990, 2000)) %>%
filter(grepl(isscaap_taxonomic_group, "sardines")) %>%
summarize(max_sardines = max(catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 1990, 2000)) %>%
filter(isscaap_taxonomic_group %in% c("Sardina")) %>%
summarize(max_sardines = max(catch))
fisheries_tidy_new %>%
group_by(country) %>%
fisheries_tidy_new %>%
group_by(country)
View(fisheries_tidy_new)
fisheries_tidy_new
fisheries_tidy_new %>%
group_by(country)
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 1990, 2000))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 1990, 2000)) %>%
filter(isscaap_taxonomic_group %in% c("Sardina"))
View(fisheries_tidy_new)
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 1990, 2000)) %>%
filter(asfis_species_name %in% c("Sardina")) %>%
summarize(max_sardines = max(catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 1990, 2000)) %>%
filter(asfis_species_name %in% c("Sardina"))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 1990, 2000)) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
summarize(max_sardines = max(catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 1990, 2000)) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
summarize(max_sardines = max(catch, na.rm=TRUE))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
summarize(total_cephalopoda = n(catch))
fisheries_tidy_new %>%
group_by(catch) %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
summarize(total_cephalopoda = n(catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda")
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
summarize(total_cephalopoda = n())
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
summarize(total_cephalopoda = n()) %>%
arrange(desc(total_cephalopoda))
View(fisheries_tidy_new)
fisheries_tidy_new %>%
summarize <- (distinct_species = n_distinct("asfis_species_number"))
fisheries_tidy_new %>%
summarize(distinct_species = n_distinct("asfis_species_number"))
fisheries_tidy_new %>%
summarize(distinct_species = n_distinct(asfis_species_number))
sum(unique(fisheries_tidy_new$asfis_species_number))
unique(fisheries_tidy_new$asfis_species_number)
fisheries_tidy_new %>%
summarize(distinct_species = n_distinct(asfis_species_number))
fisheries_tidy_new %>%
group_by(catch) %>%
filter(between(year, 2008, 2012)) %>%
summarize(catch_total = n())
fisheries_tidy_new %>%
group_by(asfis_species_name) %>%
filter(between(year, 2008, 2012)) %>%
summarize(catch_total = n())
library("tidyverse")
library("janitor")
library("skimr")
library("palmerpenguins")
library("tidyverse")
library("janitor")
library("skimr")
library("palmerpenguins")
penguins %>%
group_by(species, island) %>%
summarize(n=n(), .groups= 'keep')#the .groups argument here just prevents a warning message
penguins %>%
count(island, species, sort = T) # sort=T will arrange in descending order
fisheries_tidy_new %>%
count(asfis_species_name, catch, sort = T)
fisheries_tidy_new %>%
count(asfis_species_name, catch, sort = T, na.rm=TRUE)
fisheries_tidy_new %>%
count(asfis_species_name, catch, sort = T) %>% na.rm=TRUE
fisheries_tidy_new %>%
count(asfis_species_name, catch, sort = T)
penguins %>%
count(island, sort = T) #sort=T sorts the column in descending order
fisheries_tidy_new %>%
filter(catch != "NA") %>%
count(asfis_species_name, catch, sort = T)
fisheries_tidy_new %>%
filter(catch != "NA") %>%
count(year, catch) %>%
arrange(desc(catch))
fisheries_tidy_new %>%
filter(catch != "NA") %>%
count(country, year, catch) %>%
arrange(desc(catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(year == 2000) %>%
summarize(max_catch = max(catch, na.rm=TRUE))
fisheries_tidy_new %>%
group_by(country) %>%
filter(year == 2000) %>%
summarize(max_catch = max(catch, na.rm=TRUE)) %>%
arrange(desc(catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(year == 2000) %>%
summarize(max_catch = max(catch, na.rm=TRUE)) %>%
arrange(desc(max_catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(year == 2000) %>%
filter(catch != "NA") %>%
summarize(max_catch = max(catch)) %>%
arrange(desc(max_catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(year == 2000) %>%
summarize(max_catch = max(catch, na.rm=TRUE)) %>%
arrange(desc(max_catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(year == 2000) %>%
summarize(max_catch = max(catch, na.rm=TRUE)) %>%
arrange(desc(max_catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda")
fisheries_tidy_new %>%
count(country, catch) %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
arrange(desc(total_cephalopoda))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
count(country, catch)
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
count(country, catch) %>%
arrange(desc(catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country, catch) %>%
arrange(desc(catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country, catch) %>%
summarize(n=n(), .groups= 'keep') %>%
arrange(desc(catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarize(total_catch = sum(catch)) %>%
arrange(desc(catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarize(total_catch = sum("catch")) %>%
arrange(desc(catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarize(total_catch = sum("catch")) %>%
arrange(desc(total_catch))
glimpse(fisheries_tidy_new)
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarize(total_catch = sum("catch")) %>%
arrange(desc(total_catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarize(total_catch = sum(catch)) %>%
arrange(desc(total_catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarize(total_catch = sum(catch)) %>%
arrange(desc(total_catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
filter(catch != "NA") %>%
summarize(total_catch = sum(catch)) %>%
arrange(desc(total_catch))
View(fisheries_tidy)
fisheries_tidy_new %>%
filter(catch != "NA") %>%
count(asfis_species_name, catch, sort = T) %>%
arrange(desc(catch))
fisheries_tidy_new %>%
group_by(country) %>%
filter(catch != "NA") %>%
summarize(total_catch = sum(catch)) %>%
arrange(desc(total_catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
filter(catch != "NA") %>%
count(asfis_species_name, catch, sort = T) %>%
arrange(desc(catch))
fisheries_tidy_new %>%
filter(between(year, 2008, 2012)) %>%
group_by(asfis_species_name) %>%
filter(catch != "NA") %>%
summarize(total_catch = sum(catch)) %>%
arrange(desc(total_catch))
